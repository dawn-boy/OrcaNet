<div id="progress-updater"
     hx-get="{{ url_for('routes.task_status', task_id=task_id, client_stage_count=client_stage_count) }}"
     hx-swap="outerHTML"
     {% if state not in ['SUCCESS', 'FAILURE'] %} hx-trigger="every 3s" {% endif %}>

    <div class="flex justify-between items-center mb-4">
        <h3 class="text-2xl text-white">
            {% if state == 'SUCCESS' %}Analysis Complete{% else %}Analysis in Progress...{% endif %}
        </h3>
        <button class="text-sm text-cyan-400 hover:text-cyan-300" _="on click remove .hidden from #log-modal">
            Show Raw Logs
        </button>
    </div>

    <div class="w-full bg-gray-700 rounded-full h-4 mb-2">
        <div class="bg-blue-600 h-4 rounded-full transition-all duration-500" style="width: {{ percent | round | int }}%"></div>
    </div>
    <p class="text-gray-400 text-sm">{{ status }}</p>

    <div id="log-content" hx-swap-oob="innerHTML"><code>{{ logs | e }}</code></div>
</div>