<div id="results-content" class="flex flex-col space-y-8">
    <h3 class="text-2xl mb-4 text-white">Analysis Results</h3>
    <div class="bg-gray-900 p-4 rounded-lg mb-6">
        <p class="font-mono text-green-400">{{ result.result }}</p>
    </div>


<div class="bg-gray-800 p-6 rounded-lg mb-6">
    <h4 class="text-xl mb-4 text-white">Top 10 Novel Contigs</h4>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
        {% for contig in top_10_contigs %}
        <div class="bg-gray-700 p-4 rounded-lg shadow-lg cursor-pointer hover:bg-gray-600 transition-colors"

             hx-get="{{ url_for('routes.contig_modal_content', task_id=task_id, contig_id=contig.contig_id) }}"
             hx-target="#modal-content"

             _="on click remove .hidden from #contig-modal">

            <h5 class="font-bold text-cyan-400 truncate">{{ contig.contig_id }}</h5>
            <p class="text-sm text-gray-300">Novelty: {{ contig.novelty_score }}</p>
            <p class="text-xs text-gray-400 truncate">{{ contig.top_domain_match }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<div id="contig-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50 p-4"

     _="on click add .hidden to me">

    <div id="modal-content" class="bg-gray-800 text-gray-200 rounded-lg shadow-xl w-full max-w-2xl p-6">
        <p>Loading...</p>
    </div>
</div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        </div>



    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="bg-gray-800 p-6 rounded-lg">
            <h4 class="text-xl mb-4 text-white">3D UMAP Plot</h4>
            <div id="umap-plot" class="w-full h-96"></div>
        </div>

        <div class="bg-gray-800 p-6 rounded-lg">
            <h4 class="text-xl mb-4 text-white">Phylogenetic Tree</h4>
            <div id="tree-viewer" class="w-full h-96 bg-gray-900 rounded"></div>
        </div>
    </div>

    <div id="visualization-panel" class="mb-6"></div>

    <div class="bg-gray-800 p-6 rounded-lg">
        <h4 class="text-xl mb-4 text-white">Master Table (All Contigs)</h4>
        {% include 'partials/table.html' %}
    </div>

    <div class="text-center mt-4">
        <button hx-get="/"
                hx-target="#content-swap-area"
                hx-swap="innerHTML"
                hx-select="#main-content"
                class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors">
            Run Another Analysis
        </button>
    </div>
